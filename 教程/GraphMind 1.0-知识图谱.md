# 知识图谱
> 做知识图谱工具，文档内部，文档和文档之间  
优先文档和文档之间  

## 1  文章与文章之间：  
### 1.1 文档预处理  
先提取csv第一列（为什么不用pdf：文章太大，读不全，chatgml3模型最大输入8192字，文件大处理不了）  
### 1.2 用大模型（deepseek）读取  
抓住关键信息，梳理文章内容  
```
    "请阅读以下文档内容，并“严格”按照格式输出：\n"
    "【总结】简洁总结全文核心内容；\n"
    "【标签】提取5~10个主题相关标签，使用顿号或逗号分隔；\n"
    "【类型】从以下类别中选择最贴近的一个：\n"
    "部门业务、基础知识、操作指导书、其他；\n"
    "【归属组】请提取本文件属于哪一组，如无法判断则填“未知”。\n\n"
```
> 可根据输入文章手动更改类型  

### 1.3 生成文档名的“节点” & “边”
节点为文件名，文档打上标签，目前边是根据相同标签来连线  
下一步可以通过类型层级来处理（部门->具体业务->业务下产品基础知识->操作指导书  
### 1.4 绘制知识图谱
用可用网页观看（双击居中，放大缩小，鼠标悬停显示段落内容）  
### 1.5 保存
保存html & Dify可读格式文档（Jina；csv；json？）  


## 2 文章内部：  
### 2.1 先将文件转化为：  
    1       内容    文档名  
    1.1     内容    1  
    1.1.1   内容    1.1  
    2       内容    文档名  
    2.1     内容    2  
    2.1.1   内容    2.1  
### 2.2 按层级划分
1.1.1 → 1.1 → 1 → 文档名（根节点）  
### 2.3 绘制知识图谱
用可用网页观看（双击居中，放大缩小，鼠标悬停显示段落内容），如果已经处理过，就不再重复处理    
### 2.4 保存
保存为html & Dify可读格式文档  


## 3 文档规范建议：  
> 3.1 做好层级标题前的序号（eg.1.1.1）  
3.2 页眉页尾页码固定位置（eg.上下2.5cm内）  
3.3 最好全篇的框架不要用表格，用分小标题来书写  
3.4 最好转为PDF，Word也行但处理速度没有PDF快  
3.5 命名时同一类型尽量有统一词缀  

## 4 问题：  
>4.1 模型最大输入8192字，文档读不全。index 14202 is out of bounds for dimension 0 with size 8192  
4.2 调用GPU总爆显存  
